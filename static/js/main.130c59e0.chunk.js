(this["webpackJsonpphoto-comparison"]=this["webpackJsonpphoto-comparison"]||[]).push([[0],{18:function(e,t,a){e.exports={root:"Submit_root__3Ytcn",form:"Submit_form__2fl2x",elemWrapper:"Submit_elemWrapper__1GG0g",btn:"Submit_btn__19PAC",formElem:"Submit_formElem__zXk-I"}},31:function(e,t,a){e.exports={nav:"Nav_nav__3MPEf",navlink:"Nav_navlink__3VbhY"}},45:function(e,t,a){},46:function(e,t,a){e.exports={wrapper:"Photo_wrapper__3_r6G"}},48:function(e,t,a){e.exports={root:"Admin_root__1a0RN"}},52:function(e,t,a){e.exports=a(80)},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),c=a.n(o),i=a(17),l=a(14),s=a(15),u=a(10),p={photo:{},allPhotos:[]};var m=a(51),h=a(6),f=a.n(h),d=a(12),b=a(28),v=a.n(b),O=f.a.mark(y),E=f.a.mark(k),_=f.a.mark(S),j=f.a.mark(T),g=f.a.mark(D),w=f.a.mark(P),x=f.a.mark(N);function y(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("GET_ALL",k);case 2:case"end":return e.stop()}}),O)}function k(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("".concat("/api","/all"));case 3:if(!(e=t.sent)||!e.data){t.next=7;break}return t.next=7,Object(d.c)({type:"SET_ALL",payload:e.data});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),E,null,[[0,9]])}function S(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("GET_PHOTO",T);case 2:case"end":return e.stop()}}),_)}function T(e){var t,a,n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.id,r.prev=2,r.next=5,v.a.get("".concat("/api","/photos/").concat(a));case 5:if(!(n=r.sent)||!n.data){r.next=9;break}return r.next=9,Object(d.c)({type:"SET_PHOTO",payload:n.data});case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(2),console.log(r.t0);case 14:case"end":return r.stop()}}),j,null,[[2,11]])}function D(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("SUBMIT_PHOTOS",P);case 2:case"end":return e.stop()}}),g)}function P(e){var t,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=t.data,n.prev=2,n.next=5,v.a.post("".concat("/api","/submit"),a,{headers:{"Content-Type":"application/json"}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.log(n.t0);case 10:case"end":return n.stop()}}),w,null,[[2,7]])}function N(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Object(d.b)(y),Object(d.b)(S),Object(d.b)(D)]);case 2:case"end":return e.stop()}}),x)}var L=f.a.mark(C);function C(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([N()]);case 2:case"end":return e.stop()}}),L)}var I=Object(m.a)(),A=Object(s.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_PHOTO":return Object(u.a)(Object(u.a)({},e),{},{photo:t.payload});case"SET_ALL":return Object(u.a)(Object(u.a)({},e),{},{allPhotos:t.payload});default:return e}}),Object(s.c)(Object(s.a)(I),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));I.run(C);var G=A,H=a(16),W=a(45),z=a.n(W),M=function(e){var t=e.children;return r.a.createElement("div",{className:z.a.root},t)},V=a(19),X=a(20),F=a(22),U=a(21),B=a(46),R=a.n(B),J=a(47),Y=function(){return{type:"GET_ALL"}},Z=function(e){return{type:"SUBMIT_PHOTOS",payload:{data:e}}},q=function(e){return{type:"GET_PHOTO",payload:{id:e}}},K=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"componentDidMount",value:function(){this.props.getPhotoData(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.photoData;return e&&e._id?r.a.createElement("div",{className:R.a.wrapper},r.a.createElement("h3",null,e.title),r.a.createElement(J.a,{before:"".concat("/images","/").concat(e.images.before),after:"".concat("/images","/").concat(e.images.after),width:e.dimensions.width,height:e.dimensions.height}),r.a.createElement("p",null,e.description)):null}}]),a}(r.a.Component),Q={getPhotoData:q},$=Object(l.b)((function(e){return{photoData:(t=e,t.photo)};var t}),Q)(K),ee=a(48),te=a.n(ee),ae=a(31),ne=a.n(ae),re=function(e){var t=e.linksList;return r.a.createElement("nav",{className:ne.a.nav},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",null,r.a.createElement(i.b,{key:e._id,className:ne.a.navlink,exact:!0,to:"/photos/".concat(e._id)},e.title))}))))},oe=a(50),ce=a(24),ie=a(18),le=a.n(ie),se=Z,ue=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(){var e;Object(V.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={photoData:{title:"",description:"",width:640,height:480,images:{before:null,after:null}},isError:!1},e.updateInputValue=function(t){var a=t.target,n=e.state.photoData,r=a.value,o=a.name;e.setState({photoData:Object(u.a)(Object(u.a)({},n),{},Object(ce.a)({},o,r))})},e.setImage=function(t){var a=t.target,n=a.name,r=a.files,o=e.state.photoData;r&&e.setState({photoData:Object(u.a)(Object(u.a)({},o),{},{images:Object(u.a)(Object(u.a)({},o.images),{},Object(ce.a)({},n,r[0]))})})},e.submit=function(){var t=Object(oe.a)(f.a.mark((function t(a){var n,r,o,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.photoData,a.preventDefault(),n.title&&n.description){for(r=new FormData,o=0,c=["description","title","height","width"];o<c.length;o++)i=c[o],r.append(i,n[i]);r.append("before",n.images.before),r.append("after",n.images.after),e.props.submitPhotos(r),e.setState({photoData:{title:"",description:"",width:640,height:480,images:{before:null,after:null}},isError:!1})}else e.setState({isError:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(X.a)(a,[{key:"render",value:function(){var e=this.updateInputValue,t=this.submit,a=this.setImage,n=this.state.photoData;return r.a.createElement("div",{className:le.a.root},r.a.createElement("h2",null,"Dodaj nowe por\xf3wnanie zdj\u0119\u0107"),r.a.createElement("form",{className:le.a.form,onSubmit:t},r.a.createElement("div",{className:le.a.elemWrapper},r.a.createElement("label",{htmlFor:"title"},"Tytu\u0142"),r.a.createElement("input",{id:"title",name:"title",onChange:e,value:n.title,minLength:"10",required:!0,type:"text",placeholder:"Tytu\u0142"})),r.a.createElement("textarea",{name:"description",onChange:e,value:n.description,rows:"5",placeholder:"Opis zdj\u0119\u0107"}),r.a.createElement("div",{className:le.a.elemWrapper},r.a.createElement("label",{htmlFor:"before"},"Zdj\u0119cie Przed"),r.a.createElement("input",{id:"before",name:"before",onChange:a,type:"file"}),r.a.createElement("label",{htmlFor:"after"},"Zdj\u0119cie Po"),r.a.createElement("input",{id:"after",name:"after",onChange:a,type:"file"})),r.a.createElement("div",{className:le.a.elemWrapper},r.a.createElement("label",null,"Szeroko\u015b\u0107",r.a.createElement("input",{name:"width",onChange:e,value:n.width,type:"number",min:100,max:800}),"px"),r.a.createElement("label",null,"Wysoko\u015b\u0107",r.a.createElement("input",{min:100,max:800,name:"height",onChange:e,value:n.height,type:"number"}),"px")),r.a.createElement("button",{className:"".concat(le.a.btn)},"Dodaj")))}}]),a}(r.a.Component),pe={submitPhotos:se},me=Object(l.b)(null,pe)(Object(H.f)(ue)),he=Y,fe=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllPhotos()}},{key:"render",value:function(){var e=this.props.photosList;return r.a.createElement("div",{className:te.a.root},e&&e.length?r.a.createElement(re,{linksList:e}):null,r.a.createElement(me,null))}}]),a}(r.a.Component),de={getAllPhotos:he},be=Object(l.b)((function(e){return{photosList:(t=e,t.allPhotos)};var t}),de)(Object(H.f)(fe));var ve=function(){return r.a.createElement(M,null,r.a.createElement(H.c,null,r.a.createElement(H.a,{path:"/",exact:!0,to:!0,component:me}),r.a.createElement(H.a,{path:"/photos/:id",exact:!0,to:!0,component:$}),r.a.createElement(H.a,{path:"/admin",exact:!0,to:!0,component:be})))},Oe=function(){return r.a.createElement(l.a,{store:G},r.a.createElement(i.a,{basename:"".concat("")},r.a.createElement(ve,null)))};c.a.render(r.a.createElement(Oe,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.130c59e0.chunk.js.map