(this["webpackJsonpphoto-comparison"]=this["webpackJsonpphoto-comparison"]||[]).push([[0],{15:function(e,t,a){e.exports={root:"Submit_root__3Ytcn",form:"Submit_form__2fl2x",elemWrapper:"Submit_elemWrapper__1GG0g",btn:"Submit_btn__19PAC",formElem:"Submit_formElem__zXk-I"}},29:function(e,t,a){e.exports={nav:"Nav_nav__3MPEf",navlink:"Nav_navlink__3VbhY"}},43:function(e,t,a){},44:function(e,t,a){e.exports={wrapper:"Photo_wrapper__3_r6G"}},46:function(e,t,a){e.exports={root:"Admin_root__1a0RN"}},50:function(e,t,a){e.exports=a(78)},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),i=a(13),l=a(10),s=a(11),u=a(14),p={photo:{},allPhotos:[]};var m=a(49),h=a(5),f=a.n(h),d=a(9),b=a(26),v=a.n(b),E="/photo-comparison/admin",O=f.a.mark(k),_=f.a.mark(S),j=f.a.mark(T),g=f.a.mark(D),w=f.a.mark(P),x=f.a.mark(N),y=f.a.mark(L);function k(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("GET_ALL",S);case 2:case"end":return e.stop()}}),O)}function S(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("".concat("/api","/all"));case 3:if(!(e=t.sent)||!e.data){t.next=7;break}return t.next=7,Object(d.c)({type:"SET_ALL",payload:e.data});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),_,null,[[0,9]])}function T(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("GET_PHOTO",D);case 2:case"end":return e.stop()}}),j)}function D(e){var t,a,n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.id,r.prev=2,r.next=5,v.a.get("".concat("/api","/photos/").concat(a));case 5:if(!(n=r.sent)||!n.data){r.next=9;break}return r.next=9,Object(d.c)({type:"SET_PHOTO",payload:n.data});case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(2),console.log(r.t0);case 14:case"end":return r.stop()}}),g,null,[[2,11]])}function P(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)("SUBMIT_PHOTOS",N);case 2:case"end":return e.stop()}}),w)}function N(e){var t,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=t.data,n.prev=2,n.next=5,v.a.post("".concat("/api","/submit"),a,{headers:{"Content-Type":"application/json"}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.log(n.t0);case 10:case"end":return n.stop()}}),x,null,[[2,7]])}function L(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Object(d.b)(k),Object(d.b)(T),Object(d.b)(P)]);case 2:case"end":return e.stop()}}),y)}var C=f.a.mark(I);function I(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([L()]);case 2:case"end":return e.stop()}}),C)}var A=Object(m.a)(),G=Object(s.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_PHOTO":return Object(u.a)({},e,{photo:t.payload});case"SET_ALL":return Object(u.a)({},e,{allPhotos:t.payload});default:return e}}),Object(s.c)(Object(s.a)(A),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));A.run(I);var H=G,W=a(12),z=a(43),M=a.n(z),V=function(e){var t=e.children;return r.a.createElement("div",{className:M.a.root},t)},X=a(17),F=a(18),U=a(19),B=a(20),R=a(44),J=a.n(R),Y=a(45),Z=function(){return{type:"GET_ALL"}},q=function(e){return{type:"SUBMIT_PHOTOS",payload:{data:e}}},K=function(e){return{type:"GET_PHOTO",payload:{id:e}}},Q=function(e){Object(B.a)(a,e);var t=Object(U.a)(a);function a(){return Object(X.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.props.getPhotoData(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.photoData;return e&&e._id?r.a.createElement("div",{className:J.a.wrapper},r.a.createElement("h3",null,e.title),r.a.createElement(Y.a,{before:"".concat("/images","/").concat(e.images.before),after:"".concat("/images","/").concat(e.images.after),width:e.dimensions.width,height:e.dimensions.height}),r.a.createElement("p",null,e.description)):null}}]),a}(r.a.Component),$={getPhotoData:K},ee=Object(l.b)((function(e){return{photoData:(t=e,t.photo)};var t}),$)(Q),te=a(46),ae=a.n(te),ne=a(29),re=a.n(ne),oe=function(e){var t=e.linksList;return r.a.createElement("nav",{className:re.a.nav},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",null,r.a.createElement(i.b,{key:e._id,className:re.a.navlink,exact:!0,to:"".concat(E,"/photos/").concat(e._id)},e.title))}))))},ce=a(48),ie=a(22),le=a(15),se=a.n(le),ue=q,pe=function(e){Object(B.a)(a,e);var t=Object(U.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={photoData:{title:"",description:"",width:640,height:480,images:{before:null,after:null}},isError:!1},e.updateInputValue=function(t){var a=t.target,n=e.state.photoData,r=a.value,o=a.name;e.setState({photoData:Object(u.a)({},n,Object(ie.a)({},o,r))})},e.setImage=function(t){var a=t.target,n=a.name,r=a.files,o=e.state.photoData;r&&e.setState({photoData:Object(u.a)({},o,{images:Object(u.a)({},o.images,Object(ie.a)({},n,r[0]))})})},e.submit=function(){var t=Object(ce.a)(f.a.mark((function t(a){var n,r,o,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.photoData,a.preventDefault(),n.title&&n.description){for(r=new FormData,o=0,c=["description","title","height","width"];o<c.length;o++)i=c[o],r.append(i,n[i]);r.append("before",n.images.before),r.append("after",n.images.after),e.props.submitPhotos(r),e.setState({photoData:{title:"",description:"",width:640,height:480,images:{before:null,after:null}},isError:!1})}else e.setState({isError:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(F.a)(a,[{key:"render",value:function(){var e=this.updateInputValue,t=this.submit,a=this.setImage,n=this.state.photoData;return r.a.createElement("div",{className:se.a.root},r.a.createElement("h2",null,"Dodaj nowe por\xf3wnanie zdj\u0119\u0107"),r.a.createElement("form",{className:se.a.form,onSubmit:t},r.a.createElement("div",{className:se.a.elemWrapper},r.a.createElement("label",{htmlFor:"title"},"Tytu\u0142"),r.a.createElement("input",{id:"title",name:"title",onChange:e,value:n.title,minLength:"10",required:!0,type:"text",placeholder:"Tytu\u0142"})),r.a.createElement("textarea",{name:"description",onChange:e,value:n.description,rows:"5",placeholder:"Opis zdj\u0119\u0107"}),r.a.createElement("div",{className:se.a.elemWrapper},r.a.createElement("label",{htmlFor:"before"},"Zdj\u0119cie Przed"),r.a.createElement("input",{id:"before",name:"before",onChange:a,type:"file"}),r.a.createElement("label",{htmlFor:"after"},"Zdj\u0119cie Po"),r.a.createElement("input",{id:"after",name:"after",onChange:a,type:"file"})),r.a.createElement("div",{className:se.a.elemWrapper},r.a.createElement("label",null,"Szeroko\u015b\u0107",r.a.createElement("input",{name:"width",onChange:e,value:n.width,type:"number",min:100,max:800}),"px"),r.a.createElement("label",null,"Wysoko\u015b\u0107",r.a.createElement("input",{min:100,max:800,name:"height",onChange:e,value:n.height,type:"number"}),"px")),r.a.createElement("button",{className:"".concat(se.a.btn)},"Dodaj")))}}]),a}(r.a.Component),me={submitPhotos:ue},he=Object(l.b)(null,me)(Object(W.f)(pe)),fe=Z,de=function(e){Object(B.a)(a,e);var t=Object(U.a)(a);function a(){return Object(X.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllPhotos()}},{key:"render",value:function(){var e=this.props.photosList;return r.a.createElement("div",{className:ae.a.root},e&&e.length?r.a.createElement(oe,{linksList:e}):null,r.a.createElement(he,null))}}]),a}(r.a.Component),be={getAllPhotos:fe},ve=Object(l.b)((function(e){return{photosList:(t=e,t.allPhotos)};var t}),be)(Object(W.f)(de));var Ee=function(){return r.a.createElement(V,null,r.a.createElement(W.c,null,r.a.createElement(W.a,{path:"".concat(E,"/photos/:id"),exact:!0,to:!0,component:ee}),r.a.createElement(W.a,{path:"".concat(E,"/admin"),exact:!0,to:!0,component:ve}),r.a.createElement(W.a,{path:"".concat(E,"/admin/submit"),exact:!0,to:!0,component:he})))},Oe=function(){return r.a.createElement(l.a,{store:H},r.a.createElement(i.a,null,r.a.createElement(Ee,null)))};c.a.render(r.a.createElement(Oe,null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.9eafc06d.chunk.js.map